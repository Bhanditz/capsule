
stages:
  - build

cache:
  key: "$CI_BUILD_NAME"
  untracked: true

compile-windows-msbuild:
  stage: build
  tags:
    - msbuild
  script:
    - node release\ci-compile.js windows-msbuild
  artifacts:
    paths:
      - compile-artifacts

compile-windows-mingw:
  stage: build
  tags:
    - windows
  script:
    - release/ci-compile.js windows-mingw
  artifacts:
    paths:
      - compile-artifacts

compile-darwin:
  stage: build
  tags:
    - darwin
  script:
    - release/ci-compile.js darwin
  artifacts:
    paths:
      - compile-artifacts
